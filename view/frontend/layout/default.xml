<?xml version="1.0"?>
<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">
	<body>
		<!-- Remove default header -->
		<referenceContainer name="header.container">
			<referenceBlock name="header-wrapper" remove="true"/>
		</referenceContainer>
		
		<!-- Add custom header -->
		<referenceContainer name="header.container">
			<block class="CravenDunnill\Header\Block\Html\Header" name="custom.header" template="CravenDunnill_Header::html/header.phtml">
				<arguments>
					<argument name="jsLayout" xsi:type="array">
						<item name="components" xsi:type="array">
							<item name="miniCart" xsi:type="array">
								<item name="component" xsi:type="string">Magento_Checkout/js/view/minicart</item>
								<item name="config" xsi:type="array">
									<item name="template" xsi:type="string">Magento_Checkout/minicart/content</item>
								</item>
							</item>
						</item>
					</argument>
				</arguments>
			</block>
		</referenceContainer>
		
		<!-- Add JS for handling search and minicart functionality -->
		<referenceContainer name="after.body.start">
			<block class="Magento\Framework\View\Element\Template" name="custom.header.js" template="CravenDunnill_Header::html/header_js.phtml"/>
		</referenceContainer>
	</body>
</page>